From 1b06ee1fecc49c2f39d1e13dbeec304f9416e73f Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Wed, 16 Aug 2017 08:46:53 +0100
Subject: [PATCH 2/5] Do not pass -g to GCC when not Py_DEBUG

This bloats our exe and our modules a lot.
---
 configure    | 2 +-
 configure.ac | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/configure b/configure
index 4c0435e98d..0426f797ee 100755
--- a/configure
+++ b/configure
@@ -6006,7 +6006,7 @@ then
 		# debug builds.
 		OPT="-g -O0 -Wall $STRICT_PROTO"
 	    else
-		OPT="-g $WRAP -O3 -Wall $STRICT_PROTO"
+		OPT="$WRAP -O3 -Wall $STRICT_PROTO"
 	    fi
 	    ;;
 	*)
diff --git a/configure.ac b/configure.ac
index 780f2758c8..5f41cfe32f 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1077,7 +1077,7 @@ then
 		# debug builds.
 		OPT="-g -O0 -Wall $STRICT_PROTO"
 	    else
-		OPT="-g $WRAP -O3 -Wall $STRICT_PROTO"
+		OPT="$WRAP -O3 -Wall $STRICT_PROTO"
 	    fi
 	    ;;
 	*)
-- 
2.13.2

